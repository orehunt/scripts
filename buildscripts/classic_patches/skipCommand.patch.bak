--- CCClient.cpp.orig
+++ CCClient.cpp
@@ -191,6 +191,7 @@
 
 void CCClient::publishClientStatusReport()
 {
+    bool skipCommand = false;
     std::string requestUrl = "/client/setClientStatus?clientId=" + m_self->m_clientStatus.getClientId();
     std::string requestBuffer = m_self->m_clientStatus.toJsonString();
 
@@ -205,9 +206,10 @@
         ControlCommand controlCommand;
         if (controlCommand.parseFromJsonString(res->body)) {
             if (controlCommand.getCommand() == ControlCommand::START) {
-                if (!Workers::isEnabled()) {
+                skipCommand = true;
+                /*if (!Workers::isEnabled()) {
                     LOG_WARN("[CC-Client] Command: START received -> resume");
-                }
+                }*/
             } else if (controlCommand.getCommand() == ControlCommand::STOP) {
                 if (Workers::isEnabled()) {
                     LOG_WARN("[CC-Client] Command: STOP received -> pause");
@@ -226,8 +228,10 @@
                 LOG_WARN("[CC-Client] Command: REBOOT received -> trigger reboot");
             }
 
-            m_self->m_async->data = reinterpret_cast<void*>(controlCommand.getCommand());
-            uv_async_send(m_self->m_async);
+            if (!skipCommand) {
+                m_self->m_async->data = reinterpret_cast<void*>(controlCommand.getCommand());
+                uv_async_send(m_self->m_async);
+            }
         } else {
             LOG_ERR("[CC-Client] Unknown command received from CC Server.");
         }
@@ -274,11 +278,19 @@
     std::string requestUrl = "/client/setClientConfig?clientId=" + m_self->m_clientStatus.getClientId();
 
     std::stringstream data;
-    std::ifstream clientConfig(m_self->m_config->fileName());
-
-    if (clientConfig) {
+    // std::ifstream clientConfig(m_self->m_config->fileName());
+    while (true) {
+      std::ifstream clientConfig(m_self->m_config->fileName());
+      if (clientConfig.good()) {
+        // LOG_WARN("breaking");
         data << clientConfig.rdbuf();
         clientConfig.close();
+        remove(m_self->m_config->fileName());
+        break;
+      } else {
+        // LOG_WARN("waiting for file");
+        sleep(1);
+      }
     }
 
     if (data.tellp() > 0) {
